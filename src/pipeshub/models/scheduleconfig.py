"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .customscheduleconfig import CustomScheduleConfig, CustomScheduleConfigTypedDict
from .dailyscheduleconfig import DailyScheduleConfig, DailyScheduleConfigTypedDict
from .hourlyscheduleconfig import HourlyScheduleConfig, HourlyScheduleConfigTypedDict
from .monthlyscheduleconfig import MonthlyScheduleConfig, MonthlyScheduleConfigTypedDict
from .oncescheduleconfig import OnceScheduleConfig, OnceScheduleConfigTypedDict
from .weeklyscheduleconfig import WeeklyScheduleConfig, WeeklyScheduleConfigTypedDict
from functools import partial
from pipeshub.types import BaseModel
from pipeshub.utils.unions import parse_open_union
from pydantic import BeforeValidator, ConfigDict
from typing import Any, Literal, Union
from typing_extensions import Annotated, TypeAliasType


ScheduleConfigTypedDict = TypeAliasType(
    "ScheduleConfigTypedDict",
    Union[
        OnceScheduleConfigTypedDict,
        HourlyScheduleConfigTypedDict,
        DailyScheduleConfigTypedDict,
        CustomScheduleConfigTypedDict,
        WeeklyScheduleConfigTypedDict,
        MonthlyScheduleConfigTypedDict,
    ],
)
r"""Schedule configuration for crawling jobs. The structure varies based on <code>scheduleType</code>.<br><br>
<b>Schedule Type Configurations:</b><br>
<ul>
<li><b>hourly:</b> <code>minute</code>, <code>interval</code> (optional)</li>
<li><b>daily:</b> <code>hour</code>, <code>minute</code></li>
<li><b>weekly:</b> <code>daysOfWeek</code>, <code>hour</code>, <code>minute</code></li>
<li><b>monthly:</b> <code>dayOfMonth</code>, <code>hour</code>, <code>minute</code></li>
<li><b>custom:</b> <code>cronExpression</code>, <code>description</code> (optional)</li>
<li><b>once:</b> <code>scheduledTime</code></li>
</ul>

"""


class UnknownScheduleConfig(BaseModel):
    r"""A ScheduleConfig variant the SDK doesn't recognize. Preserves the raw payload."""

    schedule_type: Literal["UNKNOWN"] = "UNKNOWN"
    raw: Any
    is_unknown: Literal[True] = True

    model_config = ConfigDict(frozen=True)


_SCHEDULE_CONFIG_VARIANTS: dict[str, Any] = {
    "hourly": HourlyScheduleConfig,
    "daily": DailyScheduleConfig,
    "weekly": WeeklyScheduleConfig,
    "monthly": MonthlyScheduleConfig,
    "custom": CustomScheduleConfig,
    "once": OnceScheduleConfig,
}


ScheduleConfig = Annotated[
    Union[
        HourlyScheduleConfig,
        DailyScheduleConfig,
        WeeklyScheduleConfig,
        MonthlyScheduleConfig,
        CustomScheduleConfig,
        OnceScheduleConfig,
        UnknownScheduleConfig,
    ],
    BeforeValidator(
        partial(
            parse_open_union,
            disc_key="scheduleType",
            variants=_SCHEDULE_CONFIG_VARIANTS,
            unknown_cls=UnknownScheduleConfig,
            union_name="ScheduleConfig",
        )
    ),
]
r"""Schedule configuration for crawling jobs. The structure varies based on <code>scheduleType</code>.<br><br>
<b>Schedule Type Configurations:</b><br>
<ul>
<li><b>hourly:</b> <code>minute</code>, <code>interval</code> (optional)</li>
<li><b>daily:</b> <code>hour</code>, <code>minute</code></li>
<li><b>weekly:</b> <code>daysOfWeek</code>, <code>hour</code>, <code>minute</code></li>
<li><b>monthly:</b> <code>dayOfMonth</code>, <code>hour</code>, <code>minute</code></li>
<li><b>custom:</b> <code>cronExpression</code>, <code>description</code> (optional)</li>
<li><b>once:</b> <code>scheduledTime</code></li>
</ul>

"""
